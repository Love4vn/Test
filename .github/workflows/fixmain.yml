name: Update

on:
  watch:
    types: [started]
  schedule:
    - cron: '*/10 * * * *'
  workflow_dispatch:

env:
  TZ: Asia/Ho_Chi_Minh

jobs:
  Update:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: GetTime
      run: echo "DATE=$(date +'%Y-%m-%d %H:%M:%S GMT+7')" >> $GITHUB_ENV

    - name: Update
      run: |
        # VTV Source
        rm -f VTV.m3u && 
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/thevinhnbvn35/iptvlink/main/hovantam.m3u -O 0Movie.m3u || true
          sed -i '/#EXTM3U/d;/#list/d;/#EXTVLCOPT/d;/#http/d' 0Movie.m3u || true
          sed -i -n '/,AXN/,+1p' 0Movie.m3u || true
          sed -i 's/,AXN/ tvg-id="axnhd" group-title="Movie",AXN/g' 0Movie.m3u || true
        
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/kupjta/iptv/main/tv360.m3u -O 3VTV.m3u || true
        sed -i -n '/"In The Box"/,+1p' 3VTV.m3u || true
        sed -i '1i #EXTINF:-1 group-title="ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£",----------âš¡ðŸâš¡-Entertainment from WINTV Sources-âš¡ðŸâš¡------------' 3VTV.m3u || true
        
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/kupjta/iptv/main/tv360.m3u -O 4VTV.m3u || true
        sed -i '/#EXTVLCOPT/d;/#http/d' 4VTV.m3u || true
        sed -i -n '/"VTVcab"/,+1p' 4VTV.m3u || true
        
        cat 0Movie.m3u 3VTV.m3u 4VTV.m3u >> VTV.m3u || true
        rm -f 0VTV.m3u 1VTV.m3u 2VTV.m3u 3VTV.m3u 5VTV.m3u 4VTV.m3u 0Movie.m3u 1Movie.m3u || true
        sed -i 's/"Thit yu"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"ðŸŒº| VTV"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"VTV"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"â™»ï¸| Giáº£i trÃ­ & News"/"Du lá»‹ch-KhÃ¡m phÃ¡"/g;s/"ðŸŽ¬| Phim truyá»‡n"/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/g;s/"In The Box"/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/g;s/"Euro 2024"/"ðŸ”¥ðŸ”¥âš½| Euro 2024"/g;s/, VTV1/,ðŸŒº| VTV1/g;s/, VTV2/,ðŸŒº| VTV2/g;s/, VTV3/,ðŸŒº| VTV3/g;s/, VTV4/,ðŸŒº| VTV4/g;s/, VTV5/,ðŸŒº| VTV5/g;s/, VTV6/,ðŸŒº| VTV6/g;s/, VTV7/,ðŸŒº| VTV7/g;s/, VTV8/,ðŸŒº| VTV8/g;s/, VTV9/,ðŸŒº| VTV9/g;s/, VTV Cáº§n ThÆ¡/,ðŸŒº| VTV Cáº§n ThÆ¡/g;s/"VTVcab HD"/"ðŸ¥|KÃªnh VTVCab"/g;s/"VTC HD"/"NhÃ³m KÃªnh VTC"/g' VTV.m3u || true
        sed -i '/^\s*$/d' VTV.m3u || true
        
        # VCTV Source
        rm -f VCTV.m3u && touch VCTV.m3u
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/iptivi/apptv1/main/apptv1.m3u -O VCTV2.m3u || true
        sed -i -n '/Sport/,+1p' VCTV2.m3u || true
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/iptivi/apptv1/main/apptv1.m3u -O VCTV3.m3u || true
        sed -i -n '/SCTV/,+1p' VCTV3.m3u || true
        cat VCTV2.m3u >> VCTV.m3u || true
        cat VCTV3.m3u >> VCTV.m3u || true
        rm -f VCTV1.m3u VCTV2.m3u VCTV3.m3u || true
        sed -i '1i #EXTM3U' VCTV.m3u || true
        sed -i '/^\s*$/d' VCTV.m3u || true

        # hubsport Source
        rm -f S_check.m3u && wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/Love4vn/love4vn/main/S_check.m3u -O S_check.m3u || true
        sed -i '/^\s*$/d' S_check.m3u || true

        # Out_Iptv_CXT Source
        rm -f Out_Iptv_CXT.m3u && wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/Love4vn/love4vn/main/VTV_sort.m3u -O Out_Iptv_CXT.m3u || true
        sed -i '1i #EXTINF:-1 tvg-id="" tvg-name="***VTV Listings***" tvg-logo="https://github.com/Love4vn/Wall/blob/92e4f876d382d2945ebf0ee81e09a43aecffe52c/VTV_logo.png" group-title="ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢",***VTV Listings***' Out_Iptv_CXT.m3u || true
        
        # Sports Source
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/a1xmedia/m3u/refs/heads/main/a1x.m3u -O tkty22.m3u || true
        sed -i 's/"ðŸ¦æ¬§æ´²äº”å¤§è”èµ›ðŸ¦"/"USUK SPORT"/g;s/"ðŸ‰æµ·å¤–ä½“è‚²"/"USUK SPORT"/g;s/"ðŸ‰4K-8Ké¢‘é“"/"4ï¸âƒ£ðŸ‡° ðŸ‡º ðŸ‡­ ðŸ‡©"/g;s/"Sports"/"4ï¸âƒ£ðŸ‡° ðŸ‡º ðŸ‡­ ðŸ‡©"/g;s/"Events"/"4ï¸âƒ£ðŸ‡° ðŸ‡º ðŸ‡­ ðŸ‡©"/g' tkty22.m3u || true
        
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/Love4vn/love4vn/refs/heads/main/output.m3u -O Sport1.m3u || true

        # Integrate sources
        rm -f IPTV.m3u && touch IPTV.m3u
        cat Out_Iptv_CXT.m3u VTV.m3u >> IPTV.m3u || true
        cat S_check.m3u >> IPTV.m3u || true
        cat Sport1.m3u >> IPTV.m3u || true
        cat tkty22.m3u >> IPTV.m3u || true
        sed -i '/#EXTM3U/d' IPTV.m3u || true
        sed -i '1i #EXTM3U' IPTV.m3u || true
        sed -i 's/"KÃŠNH BOX"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"KNH K"/"K Channels"/g;s/"Minh c Gii Tr"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"KNH BOX"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"In The Box"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"TH NGHIM"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"FPT Play"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"Truyn Hnh"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"Quc T HD"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"K"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"Quc T"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ"/g;s/"Quc t"/"ðŸ”ðŸ”’á´¹áµ’áµ›â±áµ‰Ë¢ðŸ“£ðŸŽ¬ðŸ˜œ" /g;s/"ðŸŽ¬ðŸ˜œ Phim ðŸ”ðŸ“£"/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/g;s/"Phim"/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/g;s/"KÃŠNH THIáº¾T Yáº¾U"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"Thit yu"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"FPT Play"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"VTV"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"VTV 50fsp"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"Kenh VTV"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"â¤| VTV"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/"ðŸ‡»ðŸ‡³ðŸ“º| NhÃ³m KÃªnh VTV ðŸ“¢"/"ðŸ‡»ðŸ‡³ðŸ“º| KÃªnh VTV ðŸ“¢"/g;s/VTVCanTho/VTV Cáº§n ThÆ¡/g;s/VTV5 Ty Nam B/VTV5 TÃ¢y Nam Bá»™/g;s/VTV5 Ty Nguyn/VTV5 TÃ¢y NguyÃªn/g;s/â¤ï¸| VTV6 Â¹â°â¸â°/â¤ï¸| VTV6 Cáº§n ThÆ¡ Â¹â°â¸â°/g;s/"Khm ph"/"Du lá»‹ch-KhÃ¡m phÃ¡"/g;s/"Lifestyle"/"Du lá»‹ch-KhÃ¡m phÃ¡"/g;s/"Du lchKhm ph"/"Du lá»‹ch-KhÃ¡m phÃ¡"/g;s/"Animals Nature History"/"Du lá»‹ch-KhÃ¡m phÃ¡"/g;s/"247"/"Du lá»‹ch-KhÃ¡m phÃ¡"/g;s/"Movie"/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/g;s/"Movies"/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/g;s/"Relax"/"ðŸ˜œâœ¨| Relax ðŸ˜‹"/g;s/"Comedy"/"ðŸ˜œâœ¨| Relax ðŸ˜‹"/g;s/"Kids"/"NhÃ³m KÃªnh Thiáº¿u Nhi "/g;s/"Selection Sport"/"ðŸŽ¯ðŸ””|Selection Sport|ðŸ””ðŸŽ¯"/g;s/"Trc tip Euro 2024"/"ðŸ”¥ðŸ”¥âš½| Euro 2024"/g;s/"Livestream"/"âš½ðŸ¥ŽLivestreamðŸ†ðŸ…"/g;s/å’ªå’• æŽ¨è/Migu Recommend/g;s/"ä¸–ç•Œå¥³æŽ’è”èµ›"/"ðŸŽŠForeign SportsðŸŽŠ"/g;s/"æµªç´å›½å®¶æ¯"/"ðŸŽŠForeign SportsðŸŽŠ"/g;s/"NBA"/"ðŸŽŠForeign SportsðŸŽŠ"/g;s/"ðŸ¥…å¤–æ¬§æ´²æ¯ðŸ¥…"/"ðŸ¥…âš½ï¸European Cupâš½ï¸ðŸ¥…"/g;s/à¸Šà¹ˆà¸­à¸‡/Channel/g' IPTV.m3u
        sed -i '/"Myanmar Tv"/{N; /"Myanmar Tv"/d;};/TH H NI 1 HD/{N; /TH H NI 1 HD/d;};/HYTV HD TH BO HNG YN/{N; /HYTV HD TH BO HNG YN/d;};/ANTV TH AN NINH HD/{N; /ANTV TH AN NINH HD/d;};/HueTV TH THNH PH HU HD/{N; /HueTV TH THNH PH HU HD/d;};/TH H NI 1 HD/{N; /TH H NI 1 HD/d;};/TH H NI 2 4K/{N; /TH H NI 2 4K/d;}' IPTV.m3u
        sed -i '/å¤®è§†é¢‘é“/{N; /å¤®è§†é¢‘é“/d;};/å«è§†é¢‘é“/{N; /å«è§†é¢‘é“/d;};/æ¹–åŒ—é¢‘é“/{N; /æ¹–åŒ—é¢‘é“/d;};/å…¶ä»–é¢‘é“/{N; /å…¶ä»–é¢‘é“/d;};/æ²³å—é¢‘é“/{N; /æ²³å—é¢‘é“/d;};/åŒ—äº¬é¢‘é“/{N; /åŒ—äº¬é¢‘é“/d;};/æ¸¯æ¾³é¢‘é“/{N; /æ¸¯æ¾³é¢‘é“/d;};/æ¹–å—é¢‘é“/{N; /æ¹–å—é¢‘é“/d;};/å°æ¹¾é¢‘é“/{N; /å°æ¹¾é¢‘é“/d;};/ä¸Šæµ·é¢‘é“/{N; /ä¸Šæµ·é¢‘é“/d;};/ðŸ‰å›½å†…ä½“è‚²ðŸ‰/{N; /ðŸ‰å›½å†…ä½“è‚²ðŸ‰/d;};/ðŸŽ°å¤®è§†å«è§†ðŸŽ°/{N; /ðŸŽ°å¤®è§†å«è§†ðŸŽ°/d;};/å’ªå’•ä½“è‚²/{N; /å’ªå’•ä½“è‚²/d;};/"ä¸–é¢„äºš ä¸­å›½vséŸ©å›½"/{N; /"ä¸–é¢„äºš ä¸­å›½vséŸ©å›½"/d;}' IPTV.m3u
        sed -i 's/"å›½å¤–ä½“è‚²"/"ðŸŽŠForeign SportsðŸŽŠ"/g;s/"ðŸŽ°å¤®è§†å«è§†ðŸŽ°"/"ðŸµðŸ‡¹ðŸ‡¼ðŸ‡­ðŸ‡°CN_HK_TW SportsðŸ‡­ðŸ‡°ðŸ‡¹ðŸ‡¼ðŸµ"/g;s/"ðŸµæ¸¯è‹”ä½“è‚²ðŸµ"/"ðŸµðŸ‡¹ðŸ‡¼ðŸ‡­ðŸ‡°CN_HK_TW SportsðŸ‡­ðŸ‡°ðŸ‡¹ðŸ‡¼ðŸµ"/g;s/å¹¿ä¸œ/Guangdong /g;s/å’ªå’• 4K æ¬§æ´²æ¯/Migu 4K European Cup/g;s/ç²¤è¯­Commentary/English Commentary/g;s/å’ªå’• HD æ¬§æ´²æ¯/Migu HD European Cup/g;s/ã€Œéœ€é­”æ³•ã€/Requires magic/g' IPTV.m3u
        sed -i 's/"â›¹ðŸ»æ¬§å† è”èµ›â›¹ðŸ»"/"ðŸ’¡ðŸ†UEFA Champions LeagueðŸ†ðŸ’¡"/g;s/"ðŸˆæ³•ç”²è”èµ›ðŸˆ"/"ðŸ—¼ðŸ“ðŸ‡«ðŸ‡·France FootballðŸ‡«ðŸ‡·ðŸ“ðŸ—¼"/g;s/"ðŸ‰å¾·ç”²è”èµ›ðŸ‰"/"âš½ï¸ðŸºðŸ‡©ðŸ‡ªGerman BundesligaðŸ‡©ðŸ‡ªðŸºâš½ï¸"/g;s/"ðŸè¥¿ç”²è”èµ›ðŸ"/"âš½ï¸ðŸ‡ªðŸ‡¸La LigaðŸ‡ªðŸ‡¸âš½ï¸"/g;s/"ðŸ¥Žæ„ç”²è”èµ›ðŸ¥Ž"/"âš½ï¸ðŸ•ðŸ‡®ðŸ‡¹Serie AðŸ‡®ðŸ‡¹ðŸ•âš½ï¸"/g;s/"ðŸŽ¾ç½‘çƒèµ›äº‹ðŸŽ¾"/"ðŸŽ¾ðŸ¥ŽTennis EventsðŸ¥ŽðŸŽ¾"/g;s/"â›³ï¸é«˜å°”å¤«èµ›äº‹â›³ï¸"/"â›³ï¸Golf Tournamentâ›³ï¸"/g;s/"ðŸ¥…å¤–æ¬§æ´²æ¯ðŸ¥…"/"ðŸ¥…âš½ï¸European Cupâš½ï¸ðŸ¥…"/g;s/"ðŸ¥…å¤–æ¬§æ´²æ¯ðŸ¥…"/"ðŸ¥…âš½ï¸European Cupâš½ï¸ðŸ¥…"/g;s/"ðŸ¥…æ¬§æ´²æ¯èµ›äº‹â‘ ðŸ¥…"/"ðŸ¥…âš½ï¸Euro 2024 â‘ âš½ï¸ðŸ¥…"/g;s/"ðŸ¥…æ¬§æ´²æ¯èµ›äº‹â‘¡ðŸ¥…"/"ðŸ¥…âš½ï¸Euro 2024 â‘¡âš½ï¸ðŸ¥…"/g;s/"ðŸŽF1èµ›äº‹ðŸŽ"/"ðŸŽðŸðŸš¦F1 EventðŸš¦ðŸðŸŽ"/g;s/"[^"]*4K[^"]*"/"4ï¸âƒ£ðŸ‡° ðŸ‡º ðŸ‡­ ðŸ‡©"/g;s/"ðŸ’°PPVä»˜è´¹èµ›äº‹ðŸ’°"/"ðŸ’°ðŸ’²PPV Pay-Per-View EventðŸ’²ðŸ’°"/g;s/"ðŸ…NBAèµ›äº‹ðŸ…"/"ðŸ…ðŸ€NBA EventsðŸ€ðŸ…"/g;s/"âš½ï¸è‹±è¶…è”èµ›âš½ï¸"/"âš½ï¸ðŸ¦ðŸ‡¬ðŸ‡§Premier LeagueðŸ‡¬ðŸ‡§ðŸ¦âš½ï¸"/g;s/"ðŸª‚å¤©ç©ºä½“è‚²â‘ ðŸª‚"/"ðŸª‚Sky Sports â‘ ðŸª‚"/g;s/"ðŸª‚å¤©ç©ºä½“è‚²â‘¡ðŸª‚"/"ðŸª‚Sky Sports â‘¡ðŸª‚"/g;s/"ðŸª‚å¤©ç©ºä½“è‚²â‘¢ðŸª‚"/"ðŸª‚Sky Sports â‘¢ðŸª‚"/g;s/"ðŸª‚å¤©ç©ºä½“è‚²â‘£ðŸª‚"/"ðŸª‚Sky Sports â‘£ðŸª‚"/g;s/"ðŸ›¡ELEVENä½“è‚²ðŸ›¡"/"ðŸ›¡ELEVEN SPORTðŸ›¡"/g;s/"ðŸ›¡ELEVENä½“è‚²ðŸ›¡"/"ðŸ›¡ELEVEN SPORTðŸ›¡"/g;s/"ðŸ”°beINä½“è‚² â‘ ðŸ”°"/"ðŸ”°beIN Sports â‘ ðŸ”°"/g;s/"ðŸ”°beINä½“è‚² â‘¡ðŸ”°"/"ðŸ”°beIN Sports â‘¡ðŸ”°"/g;s/"ðŸ¦‰TNTä½“è‚²ðŸ¦‰"/"ðŸ¦‰TNT SportsðŸ¦‰"/g;s/"ðŸDAZNä½“è‚²ðŸ"/"ðŸDAZN SportsðŸ"/g;s/"ðŸ¦…ESPNä½“è‚²ðŸ¦…"/"ðŸ¦…ESPN SportsðŸ¦…"/g;s/"â›„ï¸FOXä½“è‚²â›„ï¸"/"â›„ï¸ðŸ¦ŠFOX SportsðŸ¦Šâ›„ï¸"/g;s/"â˜€ï¸å…¶ä»–ä½“è‚²â˜€ï¸"/"â˜€ï¸Other Sportsâ˜€ï¸"/g;s/"ðŸ‡ºðŸ‡¸ç¾Žå›½ä½“è‚²ðŸ‡ºðŸ‡¸"/"ðŸ‡ºðŸ‡¸ðŸ—½USA SportsðŸ—½ðŸ‡ºðŸ‡¸"/g;s/"ðŸ‡¬ðŸ‡§è‹±å›½ä½“è‚²ðŸ‡¬ðŸ‡§"/"ðŸ‡¬ðŸ‡§ðŸ’‚UK SportsðŸ’‚ðŸ‡¬ðŸ‡§"/g;s/"ðŸ‡«ðŸ‡·æ³•å›½ä½“è‚²ðŸ‡«ðŸ‡·"/"ðŸ‡«ðŸ‡·ðŸ¥–ðŸ—¼France SportsðŸ—¼ðŸ¥–ðŸ‡«ðŸ‡·"/g;s/ä½“è‚²ç›´æ’­/Sports Live/g;s/åšæ–¯é«˜çƒ/Boss Golf /g;s/å°//g;s/åšæ–¯ç½‘çƒ/Boss Tennis/g;s/åšæ–¯ä½“è‚²/Boss Sport /g;s/åšæ–¯ä½“è‚²/Boss Sport /g;s/çˆ±å°”è¾¾ä½“è‚²/Alda Sport /g;s/çº¬æ¥ä½“è‚²/Video Sport/g;s/æœ‰æ¯”èµ›æ—¶æ‰ä¼šæ”¾ç›´æ’­ç”»é¢/Live broadcast will only be shown when there is a game/g;s/è¯·ç•™æ„èµ›äº‹ç›´æ’­æ—¶é—´è§‚çœ‹/Please pay attention to the live broadcast time of the event/g;s/Now ä½“è‚² è‹±è¶…/Now Sports Premier League /g;s/NOW ä½“è‚² è‹±è¶…/NOW Sports Premier League /g;s/å¤©ç©ºä½“è‚² è‹±è¶…/Sky Sport Premier League/g;s/å¤©ç©ºä½“è‚² æ–°é—»/Sky Sports News/g;s/å¤©ç©ºä½“è‚² ç»¼åˆ/Sky Sports Comprehensive/g;s/å¤©ç©ºä½“è‚² è¶³çƒ/Sky Sports Football/g;s/å¤©ç©ºä½“è‚² æ¿çƒ/Sky Sports Cricket/g;s/å¤©ç©ºä½“è‚² é«˜å°”å¤«/Sky Sports Golf/g;s/å¤©ç©ºä½“è‚² ç«žæŠ€åœº/Sky Sports Arena/g;s/å¤©ç©ºä½“è‚² æ©„æ¦„çƒ/Sky Sports Rugby/g;s/å¤©ç©ºä½“è‚² USA/Sky Sports USA/g;s/å¤©ç©ºä½“è‚² èµ›äº‹/Sky Sports Events/g;s/å¤©ç©ºä½“è‚² ç½‘çƒ/Sky Sports Tennis/g;s/å¤©ç©ºä½“è‚² F1/Sky Sports F1/g;s/å¤©ç©ºä½“è‚² èµ›è½¦/Sky Sports Racing/g;s/å¤©ç©ºä½“è‚² é›„ç‹®/Sky Sports Lions/g;s/å¤©ç©ºä½“è‚² ä»˜è´¹/Sky Sports Paid/g;s/å¤©ç©ºä½“è‚² åŠ¨ä½œ/Sky Sports Action/g;s/å¤©ç©ºä½“è‚² NBA/Sky Sports NBA/g;s/å¤©ç©ºä½“è‚² æ ¼æ–—/Sky Sports Fighting/g;s/å¤©ç©ºä½“è‚² å¾·ç”²/Sky Sports Bundesliga/g;s/å¤©ç©ºä½“è‚² æ¾³æ´²/Sky Sports Australia/g;s/å¤©ç©ºä½“è‚² ä¸»èµ›äº‹/Sky Sports Main Event/g' IPTV.m3u
        sed -i 's/ä½“è‚²/Sport/g;s/è‘¡è„ç‰™/Portugal/g;s/æ¯”åˆ©æ—¶/Belgium/g;s/æ³¢å…°/Poland/g;s/æ³•å›½/France/g;s/é˜¿æ ¹å»·:/Argentina:/g;s/åœŸè€³å…¶/Turkey/g;s/å¡å¡”å°”/Qatar/g;s/è‹±å›½/U.K./g;s/è¥¿ç­ç‰™/Spain/g;s/ç¾Žå›½:/US:/g;s/å·´è¥¿/Brazil/g;s/è·å…°/Netherlands/g;s/è‹±è¶…/Premier /g;s/ç½—é©¬å°¼äºš/Romania/g;s/æ·å…‹/Czech Republic/g;s/åŠ æ‹¿å¤§:/Canada:/g;s/åŠ æ‹¿å¤§:/Canada:/g;s/è¥¿ç”²èµ›äº‹æ—¶é—´/Laliga Match Time/g;s/æ›´æ–°æ—¶é—´/Update Time/g;s/æ¬§æ´²æ¯èµ›äº‹/European Cup Events/g;s/æ¬§æ´²æ¯å°ç»„èµ›/European Cup Group Stage/g;s/å¾·å›½/ Germany /g;s/è‹æ ¼å…°/ Scotland /g;s/è§£è¯´/Commentary/g;s/èµ›åœºåŽŸå£°/Soundtrack/g;s/åŒˆç‰™åˆ©/ Hungary /g;s/ç‘žå£«/ Switzerland /g;s/å…‹ç½—åœ°äºš/ Croatia /g;s/æ„å¤§åˆ©/ Italy /g;s/é˜¿å°”å·´å°¼äºš/ Albania /g;s/æ–¯æ´›æ–‡å°¼äºš/ Slovenia /g;s/ä¸¹éº¦/ Denmark /g;s/å¡žå°”ç»´äºš/ Serbia /g;s/è‹±æ ¼å…°/ England /g;s/ä¹Œå…‹å…°/ Ukraine /g;s/æ–¯æ´›ä¼å…‹/ Slovakia /g;s/å¥¥åœ°åˆ©/ Austria /g;s/ä¹”æ²»äºšå·ž/ Georgia /g;s/ä¹”æ²»äºšå·ž/ Georgia /g' IPTV.m3u
        sed -i '/group-title="ðŸ‘‰/{N; /group-title="ðŸ‘‰/d;}' IPTV.m3u
        sed -i 's/æ¬§æ´²äº”å¤§è”èµ›/Europe top 5 leagues/g;s/+èµ›äº‹/+Event/g;s/æœ‰æ¯”èµ›æ—¶æ‰ä¼šæœ‰ç”»é¢/Only Game Playing/g;s/ä»…é™æ¯”èµ›æœŸé—´å¼€æ’­/Only available during competitions/g;s/ðŸª‚å¤©ç©ºSport/ðŸª‚SkySport/g;s/è‘¡è¯­/Portuguse/g;s/è‹±è¯­/English/g;s/Spainè¯­/Spanish/g;s/å¾·è¯­/German/g;s/æ¬§æ´²Sport/European Sport/g;s/æ³•è¯­/French/g;s/äºšé©¬é€ŠSport/Amazon Sport/g;s/ç¾Žå›½é¢‘é“/American channel/g;s/ç¾Žå›½é¢‘é“/American channel/g' IPTV.m3u
        sed -i 's/"UDPTV (SD) Live Streams"/"UDPTV Live Streams"/g' IPTV.m3u
        sed -i '1i #EXTM3U url-tvg="https://raw.githubusercontent.com/Love4vn/Test/refs/heads/main/EPG.xml"' IPTV.m3u
        sed -i '/"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/{N; /"ðŸŽ¬ðŸŽžï¸ ðŸ…¼ðŸ…¾ðŸ†…ðŸ…¸ðŸ…´ ðŸ”ðŸ“£"/d;};/HYTV/{N; /HYTV/d;};/HueTV/{N; /HueTV/d;};/"Du lá»‹ch-KhÃ¡m phÃ¡"/{N; /"Du lá»‹ch-KhÃ¡m phÃ¡"/d;};/THAIRATH/{N; /THAIRATH/d;};/TRUE4U 24 HD/{N; /TRUE4U 24 HD/d;}' IPTV.m3u
        sed -i '/^\s*$/d' IPTV.m3u

        # Program source
        rm -f EPG.xml
        wget -q --show-progress --no-check-certificate https://lichphatsong.site/schedule/epg.xml.gz -O EPG.xml || true
        wget -q --show-progress --no-check-certificate https://raw.githubusercontent.com/PhatBee/phatbeetv/refs/heads/main/merged_epg.xml -O EPG1.xml || true
        cat EPG1.xml >> EPG.xml || true
        rm -f EPG1.xml || true
        echo "Auto Update IPTV in $DATE!âœ¨CXTâœ¨!" > README.md

    - name: Clean
      run: |
        git config --local user.email "Love4vn@gmail.com"
        git config --local user.name "Love4vn"
        git checkout --orphan latest_branch
        git add -A
        git commit -am "$DATE"
        git branch -D main
        git branch -m main

    - name: Push
      run: git push -f origin main
